module.exports=[54826,(a,b,c)=>{},15299,(a,b,c)=>{a.r(54826);var d=a.r(72131),e=d&&"object"==typeof d&&"default"in d?d:{default:d},f="undefined"!=typeof process&&process.env&&!0,g=function(a){return"[object String]"===Object.prototype.toString.call(a)},h=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,e=b.optimizeForSpeed,h=void 0===e?f:e;i(g(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",i("boolean"==typeof h,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=h,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var b,c=a.prototype;return c.setOptimizeForSpeed=function(a){i("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var a=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},c.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(a,b){return i(g(a),"`insertRule` accepts only strings"),"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++},c.replaceRule=function(a,b){this._optimizeForSpeed;var c=this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){f||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}return a},c.deleteRule=function(a){this._serverSheet.deleteRule(a)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},c.cssRules=function(){return this._serverSheet.cssRules},c.makeStyleTag=function(a,b,c){b&&i(g(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},b=[{key:"length",get:function(){return this._rulesCount}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a.prototype,b),a}();function i(a,b){if(!a)throw Error("StyleSheet: "+b+".")}var j=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0},k={};function l(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return k[d]||(k[d]="jsx-"+j(a+"-"+c)),k[d]}function m(a,b){var c=a+(b=b.replace(/\/style/gi,"\\/style"));return k[c]||(k[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),k[c]}var n=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,f=void 0!==e&&e;this._sheet=d||new h({name:"styled-jsx",optimizeForSpeed:f}),this._sheet.inject(),d&&"boolean"==typeof f&&(this._sheet.setOptimizeForSpeed(f),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(function(a,b){if(!a)throw Error("StyleSheetRegistry: "+b+".")}(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return!!a[1]}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=l(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return m(e,a)}):[m(e,b)]}}return{styleId:l(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}(),o=d.createContext(null);function p(){return new n}function q(){return d.useContext(o)}function r(a){var b=q();return b&&b.add(a),null}o.displayName="StyleSheetContext",e.default.useInsertionEffect||e.default.useLayoutEffect,r.dynamic=function(a){return a.map(function(a){return l(a[0],a[1])}).join(" ")},c.StyleRegistry=function(a){var b=a.registry,c=a.children,f=d.useContext(o),g=d.useState(function(){return f||b||p()})[0];return e.default.createElement(o.Provider,{value:g},c)},c.createStyleRegistry=p,c.style=r,c.useStyleRegistry=q},31626,(a,b,c)=>{b.exports=a.r(15299).style},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},92966,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HeadManagerContext},30089,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"setAttributesFromProps",{enumerable:!0,get:function(){return g}});let d={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},e=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function f(a){return["async","defer","noModule"].includes(a)}function g(a,b){for(let[c,g]of Object.entries(b)){if(!b.hasOwnProperty(c)||e.includes(c)||void 0===g)continue;let h=d[c]||c.toLowerCase();"SCRIPT"===a.tagName&&f(h)?a[h]=!!g:a.setAttribute(h,String(g)),(!1===g||"SCRIPT"===a.tagName&&f(h)&&(!g||"false"===g))&&(a.setAttribute(h,""),a.removeAttribute(h))}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},12962,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={cancelIdleCallback:function(){return g},requestIdleCallback:function(){return f}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(a){let b=Date.now();return self.setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-b))}})},1)},g="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(a){return clearTimeout(a)};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},96665,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return t},handleClientScriptLoad:function(){return q},initScriptLoader:function(){return r}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(46058),h=a.r(87924),i=f._(a.r(35112)),j=g._(a.r(72131)),k=a.r(92966),l=a.r(30089),m=a.r(12962),n=new Map,o=new Set,p=a=>{let{src:b,id:c,onLoad:d=()=>{},onReady:e=null,dangerouslySetInnerHTML:f,children:g="",strategy:h="afterInteractive",onError:j,stylesheets:k}=a,m=c||b;if(m&&o.has(m))return;if(n.has(b)){o.add(m),n.get(b).then(d,j);return}let p=()=>{e&&e(),o.add(m)},q=document.createElement("script"),r=new Promise((a,b)=>{q.addEventListener("load",function(b){a(),d&&d.call(this,b),p()}),q.addEventListener("error",function(a){b(a)})}).catch(function(a){j&&j(a)});f?(q.innerHTML=f.__html||"",p()):g?(q.textContent="string"==typeof g?g:Array.isArray(g)?g.join(""):"",p()):b&&(q.src=b,n.set(b,r)),(0,l.setAttributesFromProps)(q,a),"worker"===h&&q.setAttribute("type","text/partytown"),q.setAttribute("data-nscript",h),k&&(a=>{if(i.default.preinit)return a.forEach(a=>{i.default.preinit(a,{as:"style"})})})(k),document.body.appendChild(q)};function q(a){let{strategy:b="afterInteractive"}=a;"lazyOnload"===b?window.addEventListener("load",()=>{(0,m.requestIdleCallback)(()=>p(a))}):p(a)}function r(a){a.forEach(q),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(a=>{let b=a.id||a.getAttribute("src");o.add(b)})}function s(a){let{id:b,src:c="",onLoad:d=()=>{},onReady:e=null,strategy:f="afterInteractive",onError:g,stylesheets:l,...n}=a,{updateScripts:q,scripts:r,getIsSsr:s,appDir:t,nonce:u}=(0,j.useContext)(k.HeadManagerContext);u=n.nonce||u;let v=(0,j.useRef)(!1);(0,j.useEffect)(()=>{let a=b||c;v.current||(e&&a&&o.has(a)&&e(),v.current=!0)},[e,b,c]);let w=(0,j.useRef)(!1);if((0,j.useEffect)(()=>{if(!w.current){if("afterInteractive"===f)p(a);else"lazyOnload"===f&&("complete"===document.readyState?(0,m.requestIdleCallback)(()=>p(a)):window.addEventListener("load",()=>{(0,m.requestIdleCallback)(()=>p(a))}));w.current=!0}},[a,f]),("beforeInteractive"===f||"worker"===f)&&(q?(r[f]=(r[f]||[]).concat([{id:b,src:c,onLoad:d,onReady:e,onError:g,...n,nonce:u}]),q(r)):s&&s()?o.add(b||c):s&&!s()&&p({...a,nonce:u})),t){if(l&&l.forEach(a=>{i.default.preinit(a,{as:"style"})}),"beforeInteractive"===f)if(!c)return n.dangerouslySetInnerHTML&&(n.children=n.dangerouslySetInnerHTML.__html,delete n.dangerouslySetInnerHTML),(0,h.jsx)("script",{nonce:u,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...n,id:b}])})`}});else return i.default.preload(c,n.integrity?{as:"script",integrity:n.integrity,nonce:u,crossOrigin:n.crossOrigin}:{as:"script",nonce:u,crossOrigin:n.crossOrigin}),(0,h.jsx)("script",{nonce:u,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([c,{...n,id:b}])})`}});"afterInteractive"===f&&c&&i.default.preload(c,n.integrity?{as:"script",integrity:n.integrity,nonce:u,crossOrigin:n.crossOrigin}:{as:"script",nonce:u,crossOrigin:n.crossOrigin})}return null}Object.defineProperty(s,"__nextScript",{value:!0});let t=s;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},47283,(a,b,c)=>{b.exports=a.r(96665)},30100,a=>{"use strict";var b,c=a.i(87924),d=a.i(31626),e=a.i(72131),f=a.i(50944);let g=()=>(0,c.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),h=()=>(0,c.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,c.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});function i({messages:a,isThinking:b,onSend:d,selectedContext:f,currentPage:i,currentTheme:j,onThemeChange:k}){let[l,m]=(0,e.useState)("chat"),[n,o]=(0,e.useState)(""),p=(0,e.useRef)(null);(0,e.useEffect)(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[a,l]);let q=()=>{n.trim()&&!b&&(d(n),o(""))},r=(a,b)=>{k&&j&&k({...j,[a]:b})};return(0,c.jsxs)("div",{className:"sidebar",children:[(0,c.jsxs)("div",{className:"sidebar-header",children:[(0,c.jsx)("div",{className:"page-title",children:i?.name||"Unknown Page"}),(0,c.jsxs)("div",{className:"tab-buttons",children:[(0,c.jsx)("button",{onClick:()=>m("chat"),className:`tab-btn ${"chat"===l?"active":""}`,title:"AI Chat",children:(0,c.jsx)(g,{})}),(0,c.jsx)("button",{onClick:()=>m("settings"),className:`tab-btn ${"settings"===l?"active":""}`,title:"Page Settings",children:(0,c.jsx)(h,{})})]})]}),(0,c.jsxs)("div",{className:"sidebar-content-wrapper",children:["chat"===l&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"chat-messages",children:[(!a||0===a.length)&&(0,c.jsxs)("div",{className:"empty-state",children:["Start chatting to edit ",(0,c.jsx)("b",{children:i?.name}),"."]}),a&&a.map((a,b)=>(0,c.jsx)("div",{className:`msg ${a.role}`,children:a.content},b)),(0,c.jsx)("div",{ref:p})]}),(0,c.jsxs)("div",{className:"input-section",children:[f&&(0,c.jsx)("div",{className:"context-badge",children:(0,c.jsxs)("span",{children:["EDITING: ",(0,c.jsxs)("b",{children:["<",f.tagName.toUpperCase(),">"]})]})}),(0,c.jsx)("textarea",{value:n,onChange:a=>o(a.target.value),onKeyDown:a=>"Enter"===a.key&&!a.shiftKey&&(a.preventDefault(),q()),placeholder:`Ask to change ${i?.name}...`,className:"chat-input"}),(0,c.jsx)("button",{onClick:q,disabled:b,className:"send-btn",children:b?"Generating...":"Send"})]})]}),"settings"===l&&j&&(0,c.jsxs)("div",{className:"settings-panel",children:[(0,c.jsx)("h3",{className:"settings-title",children:"Page Theme"}),(0,c.jsxs)("p",{className:"settings-subtitle",children:["Settings for ",(0,c.jsx)("b",{children:i?.name})]}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Primary Color"}),(0,c.jsxs)("div",{className:"color-picker-wrapper",children:[(0,c.jsx)("input",{type:"color",value:j.primaryColor||"#000000",onChange:a=>r("primaryColor",a.target.value),className:"color-swatch"}),(0,c.jsx)("input",{type:"text",value:j.primaryColor||"",onChange:a=>r("primaryColor",a.target.value),className:"text-input",placeholder:"#000000"})]})]}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Secondary Color"}),(0,c.jsxs)("div",{className:"color-picker-wrapper",children:[(0,c.jsx)("input",{type:"color",value:j.secondaryColor||"#ffffff",onChange:a=>r("secondaryColor",a.target.value),className:"color-swatch"}),(0,c.jsx)("input",{type:"text",value:j.secondaryColor||"",onChange:a=>r("secondaryColor",a.target.value),className:"text-input",placeholder:"#ffffff"})]})]}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Font Family"}),(0,c.jsxs)("select",{value:j.fontFamily||"Arial",onChange:a=>r("fontFamily",a.target.value),className:"dropdown-input",children:[(0,c.jsx)("option",{value:"Arial, sans-serif",children:"Arial"}),(0,c.jsx)("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),(0,c.jsx)("option",{value:"'Courier New', monospace",children:"Courier New"}),(0,c.jsx)("option",{value:"Georgia, serif",children:"Georgia"}),(0,c.jsx)("option",{value:"Verdana, sans-serif",children:"Verdana"})]})]}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Border Radius"}),(0,c.jsx)("input",{type:"text",value:j.borderRadius||"4px",onChange:a=>r("borderRadius",a.target.value),className:"text-input",placeholder:"e.g. 8px"})]})]})]})]})}var j=a.i(47283);function k({onReady:a,onSelection:b,onPageChange:d,onUpdate:f}){let[g,h]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{let c=setInterval(()=>{if(window.GrapesJsStudioSDK){clearInterval(c);let e=document.getElementById("studio-editor");e&&""===e.innerHTML&&window.GrapesJsStudioSDK.createStudioEditor({root:"#studio-editor",licenseKey:"",theme:"dark",project:{type:"web"},assets:{storageType:"self"},onReady:c=>{h(!0),window.studioEditor=c;let e=()=>{let a=c.Pages.getSelected();a&&d&&d({id:a.id,name:a.get("name")||"Untitled Page"})};e(),c.on("page:select",()=>{e(),b&&b(null)}),c.on("component:selected",a=>{if(!a)return;let c={id:a.cid,tagName:a.get("tagName"),currentHTML:a.toHTML()};b&&b(c)}),c.on("component:deselected",()=>{b&&b(null)}),c.on("update",()=>{f&&f(c.getProjectData())}),a&&a(c)}})}},100);return()=>clearInterval(c)},[a,b,d]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/@grapesjs/studio-sdk/dist/style.css"}),(0,c.jsx)(j.default,{src:"https://unpkg.com/@grapesjs/studio-sdk/dist/index.umd.js",strategy:"lazyOnload"}),(0,c.jsxs)("div",{className:"editor-area",children:[!g&&(0,c.jsx)("div",{className:"loading-overlay",children:"Loading Studio SDK..."}),(0,c.jsx)("div",{id:"studio-editor",style:{height:"100%"}})]})]})}let{entries:l,setPrototypeOf:m,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:p}=Object,{freeze:q,seal:r,create:s}=Object,{apply:t,construct:u}="undefined"!=typeof Reflect&&Reflect;q||(q=function(a){return a}),r||(r=function(a){return a}),t||(t=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return a.apply(b,d)}),u||(u=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new a(...c)});let v=J(Array.prototype.forEach),w=J(Array.prototype.lastIndexOf),x=J(Array.prototype.pop),y=J(Array.prototype.push),z=J(Array.prototype.splice),A=J(String.prototype.toLowerCase),B=J(String.prototype.toString),C=J(String.prototype.match),D=J(String.prototype.replace),E=J(String.prototype.indexOf),F=J(String.prototype.trim),G=J(Object.prototype.hasOwnProperty),H=J(RegExp.prototype.test),I=(b=TypeError,function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return u(b,c)});function J(a){return function(b){b instanceof RegExp&&(b.lastIndex=0);for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return t(a,b,d)}}function K(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;m&&m(a,null);let d=b.length;for(;d--;){let e=b[d];if("string"==typeof e){let a=c(e);a!==e&&(n(b)||(b[d]=a),e=a)}a[e]=!0}return a}function L(a){let b=s(null);for(let[c,d]of l(a))G(a,c)&&(Array.isArray(d)?b[c]=function(a){for(let b=0;b<a.length;b++)G(a,b)||(a[b]=null);return a}(d):d&&"object"==typeof d&&d.constructor===Object?b[c]=L(d):b[c]=d);return b}function M(a,b){for(;null!==a;){let c=p(a,b);if(c){if(c.get)return J(c.get);if("function"==typeof c.value)return J(c.value)}a=o(a)}return function(){return null}}let N=q(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),O=q(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=q(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q=q(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=q(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S=q(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),T=q(["#text"]),U=q(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),V=q(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W=q(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),X=q(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Z=r(/<%[\w\W]*|[\w\W]*%>/gm),$=r(/\$\{[\w\W]*/gm),_=r(/^data-[\-\w.\u00B7-\uFFFF]+$/),aa=r(/^aria-[\-\w]+$/),ab=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ac=r(/^(?:\w+script|data):/i),ad=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ae=r(/^html$/i);var af=Object.freeze({__proto__:null,ARIA_ATTR:aa,ATTR_WHITESPACE:ad,CUSTOM_ELEMENT:r(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:_,DOCTYPE_NAME:ae,ERB_EXPR:Z,IS_ALLOWED_URI:ab,IS_SCRIPT_OR_DATA:ac,MUSTACHE_EXPR:Y,TMPLIT_EXPR:$});let ag=function(a,b){if("object"!=typeof a||"function"!=typeof a.createPolicy)return null;let c=null,d="data-tt-policy-suffix";b&&b.hasAttribute(d)&&(c=b.getAttribute(d));let e="dompurify"+(c?"#"+c:"");try{return a.createPolicy(e,{createHTML:a=>a,createScriptURL:a=>a})}catch(a){return console.warn("TrustedTypes policy "+e+" could not be created."),null}},ah=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};var ai=function a(){let b,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=b=>a(b);if(d.version="3.3.1",d.removed=[],!c||!c.document||9!==c.document.nodeType||!c.Element)return d.isSupported=!1,d;let{document:e}=c,f=e,g=f.currentScript,{DocumentFragment:h,HTMLTemplateElement:i,Node:j,Element:k,NodeFilter:m,NamedNodeMap:n=c.NamedNodeMap||c.MozNamedAttrMap,HTMLFormElement:o,DOMParser:p,trustedTypes:r}=c,t=k.prototype,u=M(t,"cloneNode"),J=M(t,"remove"),Y=M(t,"nextSibling"),Z=M(t,"childNodes"),$=M(t,"parentNode");if("function"==typeof i){let a=e.createElement("template");a.content&&a.content.ownerDocument&&(e=a.content.ownerDocument)}let _="",{implementation:aa,createNodeIterator:ac,createDocumentFragment:ad,getElementsByTagName:ai}=e,{importNode:aj}=f,ak=ah();d.isSupported="function"==typeof l&&"function"==typeof $&&aa&&void 0!==aa.createHTMLDocument;let{MUSTACHE_EXPR:al,ERB_EXPR:am,TMPLIT_EXPR:an,DATA_ATTR:ao,ARIA_ATTR:ap,IS_SCRIPT_OR_DATA:aq,ATTR_WHITESPACE:ar,CUSTOM_ELEMENT:as}=af,{IS_ALLOWED_URI:at}=af,au=null,av=K({},[...N,...O,...P,...R,...T]),aw=null,ax=K({},[...U,...V,...W,...X]),ay=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),az=null,aA=null,aB=Object.seal(s(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),aC=!0,aD=!0,aE=!1,aF=!0,aG=!1,aH=!0,aI=!1,aJ=!1,aK=!1,aL=!1,aM=!1,aN=!1,aO=!0,aP=!1,aQ=!0,aR=!1,aS={},aT=null,aU=K({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),aV=null,aW=K({},["audio","video","img","source","image","track"]),aX=null,aY=K({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),aZ="http://www.w3.org/1998/Math/MathML",a$="http://www.w3.org/2000/svg",a_="http://www.w3.org/1999/xhtml",a0=a_,a1=!1,a2=null,a3=K({},[aZ,a$,a_],B),a4=K({},["mi","mo","mn","ms","mtext"]),a5=K({},["annotation-xml"]),a6=K({},["title","style","font","a","script"]),a7=null,a8=["application/xhtml+xml","text/html"],a9=null,ba=null,bb=e.createElement("form"),bc=function(a){return a instanceof RegExp||a instanceof Function},bd=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ba||ba!==a){if(a&&"object"==typeof a||(a={}),a=L(a),a9="application/xhtml+xml"===(a7=-1===a8.indexOf(a.PARSER_MEDIA_TYPE)?"text/html":a.PARSER_MEDIA_TYPE)?B:A,au=G(a,"ALLOWED_TAGS")?K({},a.ALLOWED_TAGS,a9):av,aw=G(a,"ALLOWED_ATTR")?K({},a.ALLOWED_ATTR,a9):ax,a2=G(a,"ALLOWED_NAMESPACES")?K({},a.ALLOWED_NAMESPACES,B):a3,aX=G(a,"ADD_URI_SAFE_ATTR")?K(L(aY),a.ADD_URI_SAFE_ATTR,a9):aY,aV=G(a,"ADD_DATA_URI_TAGS")?K(L(aW),a.ADD_DATA_URI_TAGS,a9):aW,aT=G(a,"FORBID_CONTENTS")?K({},a.FORBID_CONTENTS,a9):aU,az=G(a,"FORBID_TAGS")?K({},a.FORBID_TAGS,a9):L({}),aA=G(a,"FORBID_ATTR")?K({},a.FORBID_ATTR,a9):L({}),aS=!!G(a,"USE_PROFILES")&&a.USE_PROFILES,aC=!1!==a.ALLOW_ARIA_ATTR,aD=!1!==a.ALLOW_DATA_ATTR,aE=a.ALLOW_UNKNOWN_PROTOCOLS||!1,aF=!1!==a.ALLOW_SELF_CLOSE_IN_ATTR,aG=a.SAFE_FOR_TEMPLATES||!1,aH=!1!==a.SAFE_FOR_XML,aI=a.WHOLE_DOCUMENT||!1,aL=a.RETURN_DOM||!1,aM=a.RETURN_DOM_FRAGMENT||!1,aN=a.RETURN_TRUSTED_TYPE||!1,aK=a.FORCE_BODY||!1,aO=!1!==a.SANITIZE_DOM,aP=a.SANITIZE_NAMED_PROPS||!1,aQ=!1!==a.KEEP_CONTENT,aR=a.IN_PLACE||!1,at=a.ALLOWED_URI_REGEXP||ab,a0=a.NAMESPACE||a_,a4=a.MATHML_TEXT_INTEGRATION_POINTS||a4,a5=a.HTML_INTEGRATION_POINTS||a5,ay=a.CUSTOM_ELEMENT_HANDLING||{},a.CUSTOM_ELEMENT_HANDLING&&bc(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ay.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck),a.CUSTOM_ELEMENT_HANDLING&&bc(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ay.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),a.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ay.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),aG&&(aD=!1),aM&&(aL=!0),aS&&(au=K({},T),aw=[],!0===aS.html&&(K(au,N),K(aw,U)),!0===aS.svg&&(K(au,O),K(aw,V),K(aw,X)),!0===aS.svgFilters&&(K(au,P),K(aw,V),K(aw,X)),!0===aS.mathMl&&(K(au,R),K(aw,W),K(aw,X))),a.ADD_TAGS&&("function"==typeof a.ADD_TAGS?aB.tagCheck=a.ADD_TAGS:(au===av&&(au=L(au)),K(au,a.ADD_TAGS,a9))),a.ADD_ATTR&&("function"==typeof a.ADD_ATTR?aB.attributeCheck=a.ADD_ATTR:(aw===ax&&(aw=L(aw)),K(aw,a.ADD_ATTR,a9))),a.ADD_URI_SAFE_ATTR&&K(aX,a.ADD_URI_SAFE_ATTR,a9),a.FORBID_CONTENTS&&(aT===aU&&(aT=L(aT)),K(aT,a.FORBID_CONTENTS,a9)),a.ADD_FORBID_CONTENTS&&(aT===aU&&(aT=L(aT)),K(aT,a.ADD_FORBID_CONTENTS,a9)),aQ&&(au["#text"]=!0),aI&&K(au,["html","head","body"]),au.table&&(K(au,["tbody"]),delete az.tbody),a.TRUSTED_TYPES_POLICY){if("function"!=typeof a.TRUSTED_TYPES_POLICY.createHTML)throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof a.TRUSTED_TYPES_POLICY.createScriptURL)throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=(b=a.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===b&&(b=ag(r,g)),null!==b&&"string"==typeof _&&(_=b.createHTML(""));q&&q(a),ba=a}},be=K({},[...O,...P,...Q]),bf=K({},[...R,...S]),bg=function(a){let b=$(a);b&&b.tagName||(b={namespaceURI:a0,tagName:"template"});let c=A(a.tagName),d=A(b.tagName);return!!a2[a.namespaceURI]&&(a.namespaceURI===a$?b.namespaceURI===a_?"svg"===c:b.namespaceURI===aZ?"svg"===c&&("annotation-xml"===d||a4[d]):!!be[c]:a.namespaceURI===aZ?b.namespaceURI===a_?"math"===c:b.namespaceURI===a$?"math"===c&&a5[d]:!!bf[c]:a.namespaceURI===a_?(b.namespaceURI!==a$||!!a5[d])&&(b.namespaceURI!==aZ||!!a4[d])&&!bf[c]&&(a6[c]||!be[c]):"application/xhtml+xml"===a7&&!!a2[a.namespaceURI])},bh=function(a){y(d.removed,{element:a});try{$(a).removeChild(a)}catch(b){J(a)}},bi=function(a,b){try{y(d.removed,{attribute:b.getAttributeNode(a),from:b})}catch(a){y(d.removed,{attribute:null,from:b})}if(b.removeAttribute(a),"is"===a)if(aL||aM)try{bh(b)}catch(a){}else try{b.setAttribute(a,"")}catch(a){}},bj=function(a){let c=null,d=null;if(aK)a="<remove></remove>"+a;else{let b=C(a,/^[\r\n\t ]+/);d=b&&b[0]}"application/xhtml+xml"===a7&&a0===a_&&(a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>");let f=b?b.createHTML(a):a;if(a0===a_)try{c=new p().parseFromString(f,a7)}catch(a){}if(!c||!c.documentElement){c=aa.createDocument(a0,"template",null);try{c.documentElement.innerHTML=a1?_:f}catch(a){}}let g=c.body||c.documentElement;return(a&&d&&g.insertBefore(e.createTextNode(d),g.childNodes[0]||null),a0===a_)?ai.call(c,aI?"html":"body")[0]:aI?c.documentElement:g},bk=function(a){return ac.call(a.ownerDocument||a,a,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},bl=function(a){return a instanceof o&&("string"!=typeof a.nodeName||"string"!=typeof a.textContent||"function"!=typeof a.removeChild||!(a.attributes instanceof n)||"function"!=typeof a.removeAttribute||"function"!=typeof a.setAttribute||"string"!=typeof a.namespaceURI||"function"!=typeof a.insertBefore||"function"!=typeof a.hasChildNodes)},bm=function(a){return"function"==typeof j&&a instanceof j};function bn(a,b,c){v(a,a=>{a.call(d,b,c,ba)})}let bo=function(a){let b=null;if(bn(ak.beforeSanitizeElements,a,null),bl(a))return bh(a),!0;let c=a9(a.nodeName);if(bn(ak.uponSanitizeElement,a,{tagName:c,allowedTags:au}),aH&&a.hasChildNodes()&&!bm(a.firstElementChild)&&H(/<[/\w!]/g,a.innerHTML)&&H(/<[/\w!]/g,a.textContent)||7===a.nodeType||aH&&8===a.nodeType&&H(/<[/\w]/g,a.data))return bh(a),!0;if(!(aB.tagCheck instanceof Function&&aB.tagCheck(c))&&(!au[c]||az[c])){if(!az[c]&&bq(c)&&(ay.tagNameCheck instanceof RegExp&&H(ay.tagNameCheck,c)||ay.tagNameCheck instanceof Function&&ay.tagNameCheck(c)))return!1;if(aQ&&!aT[c]){let b=$(a)||a.parentNode,c=Z(a)||a.childNodes;if(c&&b){let d=c.length;for(let e=d-1;e>=0;--e){let d=u(c[e],!0);d.__removalCount=(a.__removalCount||0)+1,b.insertBefore(d,Y(a))}}}return bh(a),!0}return a instanceof k&&!bg(a)||("noscript"===c||"noembed"===c||"noframes"===c)&&H(/<\/no(script|embed|frames)/i,a.innerHTML)?(bh(a),!0):(aG&&3===a.nodeType&&(b=a.textContent,v([al,am,an],a=>{b=D(b,a," ")}),a.textContent!==b&&(y(d.removed,{element:a.cloneNode()}),a.textContent=b)),bn(ak.afterSanitizeElements,a,null),!1)},bp=function(a,b,c){if(aO&&("id"===b||"name"===b)&&(c in e||c in bb))return!1;if(aD&&!aA[b]&&H(ao,b));else if(aC&&H(ap,b));else if(aB.attributeCheck instanceof Function&&aB.attributeCheck(b,a));else if(!aw[b]||aA[b]){if(!(bq(a)&&(ay.tagNameCheck instanceof RegExp&&H(ay.tagNameCheck,a)||ay.tagNameCheck instanceof Function&&ay.tagNameCheck(a))&&(ay.attributeNameCheck instanceof RegExp&&H(ay.attributeNameCheck,b)||ay.attributeNameCheck instanceof Function&&ay.attributeNameCheck(b,a))||"is"===b&&ay.allowCustomizedBuiltInElements&&(ay.tagNameCheck instanceof RegExp&&H(ay.tagNameCheck,c)||ay.tagNameCheck instanceof Function&&ay.tagNameCheck(c))))return!1}else if(aX[b]);else if(H(at,D(c,ar,"")));else if(("src"===b||"xlink:href"===b||"href"===b)&&"script"!==a&&0===E(c,"data:")&&aV[a]);else if(aE&&!H(aq,D(c,ar,"")));else if(c)return!1;return!0},bq=function(a){return"annotation-xml"!==a&&C(a,as)},br=function(a){bn(ak.beforeSanitizeAttributes,a,null);let{attributes:c}=a;if(!c||bl(a))return;let e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:aw,forceKeepAttr:void 0},f=c.length;for(;f--;){let{name:g,namespaceURI:h,value:i}=c[f],j=a9(g),k="value"===g?i:F(i);if(e.attrName=j,e.attrValue=k,e.keepAttr=!0,e.forceKeepAttr=void 0,bn(ak.uponSanitizeAttribute,a,e),k=e.attrValue,aP&&("id"===j||"name"===j)&&(bi(g,a),k="user-content-"+k),aH&&H(/((--!?|])>)|<\/(style|title|textarea)/i,k)||"attributename"===j&&C(k,"href")){bi(g,a);continue}if(e.forceKeepAttr)continue;if(!e.keepAttr||!aF&&H(/\/>/i,k)){bi(g,a);continue}aG&&v([al,am,an],a=>{k=D(k,a," ")});let l=a9(a.nodeName);if(!bp(l,j,k)){bi(g,a);continue}if(b&&"object"==typeof r&&"function"==typeof r.getAttributeType)if(h);else switch(r.getAttributeType(l,j)){case"TrustedHTML":k=b.createHTML(k);break;case"TrustedScriptURL":k=b.createScriptURL(k)}if(k!==i)try{h?a.setAttributeNS(h,g,k):a.setAttribute(g,k),bl(a)?bh(a):x(d.removed)}catch(b){bi(g,a)}}bn(ak.afterSanitizeAttributes,a,null)},bs=function a(b){let c=null,d=bk(b);for(bn(ak.beforeSanitizeShadowDOM,b,null);c=d.nextNode();)bn(ak.uponSanitizeShadowNode,c,null),bo(c),br(c),c.content instanceof h&&a(c.content);bn(ak.afterSanitizeShadowDOM,b,null)};return d.sanitize=function(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=null,g=null,i=null,k=null;if((a1=!a)&&(a="<!-->"),"string"!=typeof a&&!bm(a))if("function"==typeof a.toString){if("string"!=typeof(a=a.toString()))throw I("dirty is not a string, aborting")}else throw I("toString is not a function");if(!d.isSupported)return a;if(aJ||bd(c),d.removed=[],"string"==typeof a&&(aR=!1),aR){if(a.nodeName){let b=a9(a.nodeName);if(!au[b]||az[b])throw I("root node is forbidden and cannot be sanitized in-place")}}else if(a instanceof j)1===(g=(e=bj("<!---->")).ownerDocument.importNode(a,!0)).nodeType&&"BODY"===g.nodeName||"HTML"===g.nodeName?e=g:e.appendChild(g);else{if(!aL&&!aG&&!aI&&-1===a.indexOf("<"))return b&&aN?b.createHTML(a):a;if(!(e=bj(a)))return aL?null:aN?_:""}e&&aK&&bh(e.firstChild);let l=bk(aR?a:e);for(;i=l.nextNode();)bo(i),br(i),i.content instanceof h&&bs(i.content);if(aR)return a;if(aL){if(aM)for(k=ad.call(e.ownerDocument);e.firstChild;)k.appendChild(e.firstChild);else k=e;return(aw.shadowroot||aw.shadowrootmode)&&(k=aj.call(f,k,!0)),k}let m=aI?e.outerHTML:e.innerHTML;return aI&&au["!doctype"]&&e.ownerDocument&&e.ownerDocument.doctype&&e.ownerDocument.doctype.name&&H(ae,e.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+e.ownerDocument.doctype.name+">\n"+m),aG&&v([al,am,an],a=>{m=D(m,a," ")}),b&&aN?b.createHTML(m):m},d.setConfig=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bd(a),aJ=!0},d.clearConfig=function(){ba=null,aJ=!1},d.isValidAttribute=function(a,b,c){return ba||bd({}),bp(a9(a),a9(b),c)},d.addHook=function(a,b){"function"==typeof b&&y(ak[a],b)},d.removeHook=function(a,b){if(void 0!==b){let c=w(ak[a],b);return -1===c?void 0:z(ak[a],c,1)[0]}return x(ak[a])},d.removeHooks=function(a){ak[a]=[]},d.removeAllHooks=function(){ak=ah()},d}();let aj=[{type:"function",function:{name:"style_element",description:"Apply CSS styles to the currently selected element. Use this for visual changes like 'make it red', 'add rounded corners', 'modernize', 'fix spacing'.",parameters:{type:"object",properties:{css:{type:"object",description:"A JSON object of CSS properties (e.g., {'border-radius': '10px', 'background-color': '#000'})",additionalProperties:{type:"string"}},recursive:{type:"boolean",description:"If true, applies the styles to the selected element AND ALL its descendants. Use this when the user says 'make EVERYTHING inside...' or 'change all fonts'."}},required:["css"]}}},{type:"function",function:{name:"update_inner_content",description:"Replace the text or inner HTML structure of the selected element. Use this to change text, add icons inside a button, or change the layout *inside* a container. NEVER use this to wrap the selected element itself.",parameters:{type:"object",properties:{html:{type:"string",description:"The new inner HTML string."}},required:["html"]}}},{type:"function",function:{name:"append_component",description:"Insert a NEW component (like a button, image, or text) *inside* the selected element at the very end of its children. IMPORTANT: Include 'data-gjs-name=\"My Component Name\"' in the HTML to give it a clear name in the Layer Manager.",parameters:{type:"object",properties:{component:{type:"string",description:"HTML string of the new component to add. Example: '<div data-gjs-name=\"Hero Section\">...</div>'"}},required:["component"]}}},{type:"function",function:{name:"generate_whole_page",description:"Replaces the ENTIRE page content with new HTML. Use this ONLY when the user asks to 'generate a landing page', 'create a website', or completely clear and rebuild the page. IMPORTANT: Use 'data-gjs-name' on main sections.",parameters:{type:"object",properties:{html:{type:"string",description:'The complete HTML structure. Main sections should have naming like <section data-gjs-name="Testimonials">...'}},required:["html"]}}},{type:"function",function:{name:"delete_component",description:"Remove the currently selected component from the page.",parameters:{type:"object",properties:{},required:[]}}},{type:"function",function:{name:"add_class",description:"Add a CSS class to the selected component. Useful for applying utility classes or pre-defined styles.",parameters:{type:"object",properties:{className:{type:"string",description:"The name of the class to add."}},required:["className"]}}},{type:"function",function:{name:"insert_sibling_before",description:"Insert a NEW component BEFORE the currently selected element (as a sibling). Use 'data-gjs-name' for semantic naming.",parameters:{type:"object",properties:{component:{type:"string",description:"HTML string of the new component. Example: '<div data-gjs-name=\"Feature\">...</div>'"}},required:["component"]}}},{type:"function",function:{name:"insert_sibling_after",description:"Insert a NEW component AFTER the currently selected element (as a sibling). Use 'data-gjs-name' for semantic naming.",parameters:{type:"object",properties:{component:{type:"string",description:"HTML string of the new component. Example: '<div data-gjs-name=\"Contact Form\">...</div>'"}},required:["component"]}}},{type:"function",function:{name:"search_image",description:"Search for a real image from Unsplash AND apply it to the selected element. This tool searches AND applies in one step - no need for a follow-up tool call.",parameters:{type:"object",properties:{query:{type:"string",description:"Search keywords describing the image (e.g., 'sunset beach', 'modern office', 'happy team')"},apply_as:{type:"string",enum:["background","img_append","img_replace"],description:"How to apply the image: 'background' = set as CSS background-image on selected element, 'img_append' = append an <img> tag inside selected element, 'img_replace' = replace selected element's content with an <img> tag"},color:{type:"string",enum:["black_and_white","black","white","yellow","orange","red","purple","magenta","green","teal","blue"],description:"Optional: Filter images by dominant color"},orientation:{type:"string",enum:["landscape","portrait","squarish"],description:"Optional: Filter images by orientation. Use 'landscape' for wide/banner images, 'portrait' for tall images, 'squarish' for roughly square images."}},required:["query","apply_as"]}}}];var ak=a.i(97847);let al=(0,ak.createClient)(),am={async savePage(a,b){let{data:{user:c}}=await al.auth.getUser();if(!c)return console.warn("Save attempted with no user logged in"),null;let{error:d}=await al.from("pages").upsert({id:a,user_id:c.id,name:b.name||"Untitled",content:b.content||{},theme:b.theme||{},messages:b.messages||[],updated_at:new Date().toISOString()}).select().single();if(d)throw console.error("Error saving page:",d),d;return!0},async loadPage(a){let{data:b,error:c}=await al.from("pages").select("*").eq("id",a).single();return c?("PGRST116"===c.code||console.error("Error loading page:",c),null):b},async getUserPages(){let{data:{user:a}}=await al.auth.getUser();if(!a)return[];let{data:b,error:c}=await al.from("pages").select("*").eq("user_id",a.id).order("updated_at",{ascending:!1});return c?(console.error("Error getting pages:",c),[]):b}};function an(){let a=(0,e.useRef)(null),b=(0,f.useRouter)(),[g,h]=(0,e.useState)(!0),[j,l]=(0,e.useState)(null),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)({}),{isThinking:q,generateResponse:r}=function(){let[a,b]=(0,e.useState)(!1),c=(a,b=0)=>{if(!a||b>3)return"";let d=a.get("tagName")||"div",e=a.getClasses().join(" "),f=a.getId(),g=a.get("type")||"",h=`<${d}`;if(f&&(h+=` id="${f}"`),e&&(h+=` class="${e}"`),g&&"default"!==g&&(h+=` type="${g}"`),h+=">",a.is("text")){let b=a.get("content")||"";h+=b.substring(0,50)+(b.length>50?"...":"")}else{let d=a.get("components");d&&d.length>0&&d.forEach(a=>{h+=c(a,b+1)})}return h+=`</${d}>`},d=async(a,b,c,d)=>{if(console.log(`üîß [DEBUG] Executing Tool: ${a}`,b),!c&&"generate_whole_page"!==a)return"Error: No component selected for this operation.";switch(a){case"style_element":if(b.recursive)return c.addStyle(b.css),c.find("*").forEach(a=>a.addStyle(b.css)),"Styles updated for element and all descendants.";return c.addStyle(b.css),"Styles updated.";case"update_inner_content":let e=ai.sanitize(b.html,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return c.components(e),"Content updated.";case"append_component":let f=ai.sanitize(b.component,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return c.append(f),"Component appended.";case"generate_whole_page":if(!d)return"Error: Editor not found.";let g=ai.sanitize(b.html,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return d.setComponents(g),"Page generated successfully.";case"delete_component":if(c===d.getWrapper())return"Error: Cannot delete the page wrapper.";return c.remove(),"Component deleted.";case"add_class":return c.addClass(b.className),`Class '${b.className}' added.`;case"insert_sibling_before":{let a=c.parent();if(!a)return"Error: Cannot insert before root element.";let d=a.components().indexOf(c),e=ai.sanitize(b.component,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return a.append(e,{at:d}),"Component inserted before."}case"insert_sibling_after":{let a=c.parent();if(!a)return"Error: Cannot insert after root element.";let d=a.components().indexOf(c),e=ai.sanitize(b.component,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return a.append(e,{at:d+1}),"Component inserted after."}case"search_image":console.log("üì∏ [DEBUG] Searching for image:",b);try{let a=await fetch("/api/unsplash/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:b.query,color:b.color,orientation:b.orientation,random:!0})});if(!a.ok){let b=await a.text();return console.error("‚ùå [DEBUG] Unsplash API error:",b),`Error searching image: ${b}. Using placeholder instead.`}let d=await a.json();if(!d.image)return console.log("‚ö†Ô∏è [DEBUG] No images found for query:",b.query),`No images found for "${b.query}". Try different keywords.`;let e=d.image;switch(console.log("‚úÖ [DEBUG] Found image:",e.url),b.apply_as||"img_append"){case"background":return c.addStyle({"background-image":`url("${e.url}")`,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}),console.log("‚úÖ [DEBUG] Applied as background image"),`Background image set. Photo by ${e.photographer}.`;case"img_replace":let f=`<img src="${e.url}" alt="${e.alt}" style="max-width: 100%; height: auto; border-radius: 8px;" />`;return c.components(f),console.log("‚úÖ [DEBUG] Replaced content with image"),`Image replaced. Photo by ${e.photographer}.`;default:let g=`<img src="${e.url}" alt="${e.alt}" style="max-width: 100%; height: auto; border-radius: 8px;" />`;return c.append(g),console.log("‚úÖ [DEBUG] Appended image"),`Image added. Photo by ${e.photographer}.`}}catch(a){return console.error("‚ùå [DEBUG] Image search failed:",a),`Error: ${a.message}. Consider using a placeholder URL.`}default:return"Unknown command."}};return{isThinking:a,generateResponse:async(a,e,f,g,h,i,j)=>{if(console.log("üöÄ [DEBUG] generateResponse STARTED"),!e.trim()||!a){h&&h("Error: Editor not ready.");return}b(!0);let k=a.getSelected()||a.getWrapper(),l=k===a.getWrapper(),m=`
      ROLE: You are an AI assistant controlling a GrapesJS visual web editor. You execute edits by calling tools.

      =============================================
      *** CURRENT TARGET (THIS IS WHAT YOU EDIT) ***
      =============================================
      Element Type: ${l?"ENTIRE PAGE (body wrapper)":`<${k.get("tagName")}>`}
      ${!l?`Element ID: ${k.getId()||"none"}`:""}
      ${!l?`Element Classes: ${k.getClasses().join(" ")||"none"}`:""}
      ${!l?`
Element HTML:
\`\`\`html
${k.toHTML()}
\`\`\`
`:""}
      =============================================

      ${j?`
      =============================================
      *** PAGE THEME (USE THESE COLORS/STYLES) ***
      =============================================
      Primary Color: ${j.primaryColor||"#2563eb"}
      Secondary Color: ${j.secondaryColor||"#ffffff"}
      Font Family: ${j.fontFamily||"Arial"}
      Border Radius: ${j.borderRadius||"8px"}
      =============================================
      When adding new elements (buttons, sections, etc.), USE THESE THEME VALUES for consistency!
      `:""}

      PAGE STRUCTURE (for reference):
      \`\`\`html
      ${!a?"":c(a.getWrapper())}
      \`\`\`

      USER REQUEST: "${e}"

      *** IMPORTANT: Focus ONLY on the CURRENT TARGET above. Ignore any previous messages about different elements. ***

      ---
      TOOL SELECTION RULES (FOLLOW STRICTLY):

      1.  **To ADD a new element** (image, button, section, etc.) -> Use \`append_component\`.
          - This inserts a NEW child element at the END of the selected element.
          - Provide the full HTML for the new component (e.g., \`<img src="..." />\`).

      2.  **To CHANGE existing text or inner structure** -> Use \`update_inner_content\`.
          - This REPLACES the innerHTML of the selected element.
          - Use ONLY for text changes or restructuring *inside* the element.

      3.  **To STYLE the selected element** (colors, fonts, spacing, borders) -> Use \`style_element\`.
          - Provide a JSON object of CSS properties.

      4.  **To DELETE the selected element** -> Use \`delete_component\`.

      5.  **To GENERATE a WHOLE NEW PAGE** (only if user asks for "landing page", "website") -> Use \`generate_whole_page\`.

      ---
      EXAMPLES:
      - User: "add an image of a sunset" -> Call \`search_image\` with \`{ "query": "sunset", "orientation": "landscape", "apply_as": "img_append" }\`.
      - User: "change this background to a beach" -> Call \`search_image\` with \`{ "query": "beach", "apply_as": "background" }\`.
      - User: "replace this image with a cat" -> Call \`search_image\` with \`{ "query": "cat", "apply_as": "img_replace" }\`.
      - User: "make this button red" -> Call \`style_element\` with \`{ "css": {"background-color": "red"} }\`
      - User: "change the title to Welcome" -> Call \`update_inner_content\` with \`{ "html": "Welcome" }\`
      - User: "delete this section" -> Call \`delete_component\`.
      - User: "add a header before this" -> Call \`insert_sibling_before\` with \`{ "component": "<h1>Header</h1>" }\`.
      - User: "add a footer after this" -> Call \`insert_sibling_after\` with \`{ "component": "<footer>Footer content</footer>" }\`.

      CRITICAL RULES:
      - You MUST call a tool. NEVER respond with text explanations.
      - Call ONLY ONE tool per response.
      - **FOR IMAGES**: Use \`search_image\` with the appropriate \`apply_as\` parameter ('background', 'img_append', or 'img_replace') to find AND apply the image in one step.
      - **FOR STYLING CHILDREN**: If the user asks to "make everything inside white" or "change all fonts", use \`style_element\` with \`recursive: true\`.
      - Use \`insert_sibling_before\`/\`insert_sibling_after\` when adding elements AS SIBLINGS (before/after), use \`append_component\` when adding elements AS CHILDREN (inside).
      - When creating new elements, USE THE PAGE THEME colors (Primary Color for buttons/accents, Secondary Color for backgrounds, Font Family for text, Border Radius for corners).
      - **ALWAYS provide a semantic name** for significant elements (sections, buttons, containers) using the \`data-gjs-name\` attribute. Example: \`<div data-gjs-name="Hero Section">...</div>\`. This helps the user identify components in the layer manager.
      - DO NOT explain what you are doing. Just call the tool.
    `;try{let b={model:"google/gemini-2.0-flash-exp:free",messages:[{role:"system",content:m},...f],tools:aj,tool_choice:"required"};console.log("üì§ [Client] Sending Payload:",JSON.stringify({...b,messages:[...b.messages.slice(0,1),{role:"...",content:`(${b.messages.length-1} more messages)`}]},null,2));let c=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok){let a=await c.text();throw console.error(`‚ùå[Client] API Error ${c.status}: `,a),Error(`API Error: ${c.statusText} - ${a} `)}console.log(`üì•[Client] Response Status: ${c.status} ${c.statusText} `);let e=await c.json();console.log("üì• [Client] Response Data:",JSON.stringify({id:e.id,model:e.model,usage:e.usage,choicesCount:e.choices?.length,finishReason:e.choices?.[0]?.finish_reason,hasToolCalls:!!e.choices?.[0]?.message?.tool_calls,hasContent:!!e.choices?.[0]?.message?.content},null,2));let g=e.choices[0].message,j="";if(g.tool_calls&&g.tool_calls.length>0)for(let b of(console.log(`üîß[Client] Processing ${g.tool_calls.length} tool call(s)`),g.tool_calls)){let c=b.function.name,e={};try{e=JSON.parse(b.function.arguments)}catch(a){console.error("‚ùå [Client] Failed to parse tool arguments:",b.function.arguments)}let f=await d(c,e,k,a);console.log(`‚úÖ[Client] Tool '${c}' result: ${f} `),j+=f+" "}else g.content?(console.log("üí¨ [Client] LLM returned text content (no tool call)"),j=g.content):(console.log("‚ö†Ô∏è [Client] LLM returned empty response"),j="Done.");h&&h(j),i&&i(j)}catch(a){console.error("‚ùå [DEBUG] AI Error:",a),h&&h("Sorry, something went wrong.")}finally{b(!1)}}}}(),s=(0,ak.createClient)();(0,e.useEffect)(()=>{(async()=>{let{data:{user:a}}=await s.auth.getUser();if(!a)return b.push("/login");let c=await am.getUserPages();if(c&&c.length>0){let a={};c.forEach(b=>{a[b.id]={messages:b.messages||[],theme:b.theme||{primaryColor:"#2563eb",secondaryColor:"#ffffff",fontFamily:"Arial",borderRadius:"4px"},content:b.content,name:b.name}}),p(a),n({name:c[0].name,id:c[0].id})}else{let a="page-"+Math.random().toString(36).substr(2,9),b={messages:[{role:"assistant",content:"Hello! I created a new project for you."}],theme:{primaryColor:"#2563eb",secondaryColor:"#ffffff",fontFamily:"Arial",borderRadius:"4px"},content:{},name:"Home"};p({[a]:b}),n({name:"Home",id:a}),am.savePage(a,b)}h(!1)})()},[b]);let t=(0,e.useRef)(null),u=(0,e.useCallback)((a,b)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(async()=>{console.log("Saving page...",a),await am.savePage(a,b)},1e3)},[]),v=()=>m&&o[m.id]?o[m.id]:{messages:[],theme:{primaryColor:"#000000",secondaryColor:"#ffffff"}},w=async b=>{if(!m)return;let c=m.id,d=v(),e=d.messages||[],f=d.theme,g={role:"user",content:b},h={role:"assistant",content:""};p(a=>{let b={...a};return b[c]={...b[c],messages:[...e,g,h]},b});let i=[...e.slice(-2),g];await r(a.current,b,i,j,a=>{p(b=>{let d=b[c],e=[...d.messages];e[e.length-1]={role:"assistant",content:a};let f={...d,messages:e};return{...b,[c]:f}})},null,f),p(a=>(u(c,a[c]),a))};return g?(0,c.jsx)("div",{className:"flex items-center justify-center h-screen bg-black text-white",children:"Loading..."}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{id:"a513a8c8556cb9e9",children:"*{box-sizing:border-box;margin:0;padding:0}body{color:#fff;background:#000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;overflow:hidden}.main-layout{width:100vw;height:100vh;display:flex;overflow:hidden}.sidebar{background:#1a1a1a;border-right:1px solid #333;flex-direction:column;width:400px;display:flex;position:relative}.sidebar-header{background-color:#252525;border-bottom:1px solid #333;justify-content:space-between;align-items:center;padding:15px;display:flex}.page-title{color:#fff;font-size:14px;font-weight:700}.tab-buttons{background:#111;border-radius:6px;gap:5px;padding:4px;display:flex}.tab-btn{color:#666;cursor:pointer;background:0 0;border:none;border-radius:4px;align-items:center;padding:6px;display:flex}.tab-btn:hover{background:#333}.tab-btn.active{color:#fff;background:#2563eb}.sidebar-content-wrapper{flex-direction:column;flex:1;display:flex;overflow:hidden}.settings-panel{flex-direction:column;gap:15px;padding:20px;display:flex;overflow-y:auto}.settings-title{color:#888;text-transform:uppercase;font-size:12px;font-weight:700}.settings-subtitle{color:#666;margin-bottom:10px;font-size:11px}.setting-group{flex-direction:column;gap:6px;display:flex}.setting-group label{color:#ccc;font-size:12px}.color-picker-wrapper{gap:10px;display:flex}.color-swatch{cursor:pointer;background:0 0;border:none;width:30px;height:30px}.text-input,.dropdown-input{color:#fff;background:#333;border:1px solid #444;border-radius:4px;width:100%;padding:8px;font-size:12px}.chat-messages{flex-direction:column;flex:1;gap:12px;padding:20px;display:flex;overflow-y:auto}.empty-state{text-align:center;color:#666;margin-top:40px;font-size:13px}.msg{border-radius:8px;max-width:90%;padding:10px 14px;font-size:14px;line-height:1.5}.msg.user{background:#2563eb;align-self:flex-end}.msg.assistant{background:#333;align-self:flex-start}.input-section{border-top:1px solid #333;flex-direction:column;gap:10px;padding:15px;display:flex}.context-badge{color:#fff;background:#7b1fa2;border-radius:4px;padding:6px 10px;font-size:11px}.chat-input{color:#fff;resize:vertical;background:#2a2a2a;border:1px solid #444;border-radius:6px;min-height:60px;padding:10px}.send-btn{color:#fff;cursor:pointer;background:#2563eb;border:none;border-radius:6px;padding:10px;font-weight:700}.send-btn:disabled{background:#444}.editor-area{background:#000;flex:1;position:relative}.loading-overlay{color:#666;background:#000;justify-content:center;align-items:center;display:flex;position:absolute;inset:0}#studio-editor{width:100%;height:100%}"}),(0,c.jsxs)("div",{className:"jsx-a513a8c8556cb9e9 main-layout",children:[(0,c.jsx)(i,{messages:v().messages,currentTheme:v().theme,onThemeChange:a=>{if(!m)return;let b=m.id;p(c=>{let d={...c};return d[b]={...d[b],theme:a},u(b,d[b]),d})},currentPage:m,selectedContext:j,onClearContext:()=>l(null),isThinking:q,onSend:w}),(0,c.jsx)(k,{onReady:b=>{a.current=b;let c=v();c&&c.content&&b.loadProjectData&&b.loadProjectData(c.content)},onSelection:l,onPageChange:b=>{if(!m||b.id===m.id)return;n(b),l(null);let c=o[b.id];c&&a.current&&c.content&&a.current.loadProjectData&&a.current.loadProjectData(c.content)},onUpdate:a=>{if(!m)return;let b=m.id;p(c=>{let d=c[b];if(!d)return c;let e={...d,content:a};return u(b,e),{...c,[b]:e}})}})]})]})}a.s(["default",()=>an],30100)}];

//# sourceMappingURL=_513bd613._.js.map