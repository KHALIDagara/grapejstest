(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,n)=>{},98547,(e,t,n)=>{var r=e.i(47167);e.r(16015);var o=e.r(71645),i=o&&"object"==typeof o&&"default"in o?o:{default:o},a=void 0!==r.default&&r.default.env&&!0,s=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,o=t.optimizeForSpeed,i=void 0===o?a:o;c(s(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(c(s(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&c(s(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return n?o.insertBefore(r,n):o.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},u={};function p(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return u[r]||(u[r]="jsx-"+d(e+"-"+n)),u[r]}function f(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return u[n]||(u[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[n]}var m=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,o=t.optimizeForSpeed,i=void 0!==o&&o;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),r&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,o=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var i=o.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=i,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var o=p(r,n);return{styleId:o,rules:Array.isArray(t)?t.map(function(e){return f(o,e)}):[f(o,t)]}}return{styleId:p(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),h=o.createContext(null);function g(){return new m}function y(){return o.useContext(h)}h.displayName="StyleSheetContext";var _=i.default.useInsertionEffect||i.default.useLayoutEffect,b="undefined"!=typeof window?g():void 0;function S(e){var t=b||y();return t&&("undefined"==typeof window?t.add(e):_(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}S.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,r=o.useContext(h),a=o.useState(function(){return r||t||g()})[0];return i.default.createElement(h.Provider,{value:a},n)},n.createStyleRegistry=g,n.style=S,n.useStyleRegistry=y},37902,(e,t,n)=>{t.exports=e.r(98547).style},8341,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={cancelIdleCallback:function(){return a},requestIdleCallback:function(){return i}};for(var o in r)Object.defineProperty(n,o,{enumerable:!0,get:r[o]});let i="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},a="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},79520,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return b},handleClientScriptLoad:function(){return g},initScriptLoader:function(){return y}};for(var o in r)Object.defineProperty(n,o,{enumerable:!0,get:r[o]});let i=e.r(55682),a=e.r(90809),s=e.r(43476),l=i._(e.r(74080)),c=a._(e.r(71645)),d=e.r(42732),u=e.r(22737),p=e.r(8341),f=new Map,m=new Set,h=e=>{let{src:t,id:n,onLoad:r=()=>{},onReady:o=null,dangerouslySetInnerHTML:i,children:a="",strategy:s="afterInteractive",onError:c,stylesheets:d}=e,p=n||t;if(p&&m.has(p))return;if(f.has(t)){m.add(p),f.get(t).then(r,c);return}let h=()=>{o&&o(),m.add(p)},g=document.createElement("script"),y=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),r&&r.call(this,t),h()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});i?(g.innerHTML=i.__html||"",h()):a?(g.textContent="string"==typeof a?a:Array.isArray(a)?a.join(""):"",h()):t&&(g.src=t,f.set(t,y)),(0,u.setAttributesFromProps)(g,e),"worker"===s&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",s),d&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}})(d),document.body.appendChild(g)};function g(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,p.requestIdleCallback)(()=>h(e))}):h(e)}function y(e){e.forEach(g),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");m.add(t)})}function _(e){let{id:t,src:n="",onLoad:r=()=>{},onReady:o=null,strategy:i="afterInteractive",onError:a,stylesheets:u,...f}=e,{updateScripts:g,scripts:y,getIsSsr:_,appDir:b,nonce:S}=(0,c.useContext)(d.HeadManagerContext);S=f.nonce||S;let v=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||n;v.current||(o&&e&&m.has(e)&&o(),v.current=!0)},[o,t,n]);let x=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!x.current){if("afterInteractive"===i)h(e);else"lazyOnload"===i&&("complete"===document.readyState?(0,p.requestIdleCallback)(()=>h(e)):window.addEventListener("load",()=>{(0,p.requestIdleCallback)(()=>h(e))}));x.current=!0}},[e,i]),("beforeInteractive"===i||"worker"===i)&&(g?(y[i]=(y[i]||[]).concat([{id:t,src:n,onLoad:r,onReady:o,onError:a,...f,nonce:S}]),g(y)):_&&_()?m.add(t||n):_&&!_()&&h({...e,nonce:S})),b){if(u&&u.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===i)if(!n)return f.dangerouslySetInnerHTML&&(f.children=f.dangerouslySetInnerHTML.__html,delete f.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:S,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...f,id:t}])})`}});else return l.default.preload(n,f.integrity?{as:"script",integrity:f.integrity,nonce:S,crossOrigin:f.crossOrigin}:{as:"script",nonce:S,crossOrigin:f.crossOrigin}),(0,s.jsx)("script",{nonce:S,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([n,{...f,id:t}])})`}});"afterInteractive"===i&&n&&l.default.preload(n,f.integrity?{as:"script",integrity:f.integrity,nonce:S,crossOrigin:f.crossOrigin}:{as:"script",nonce:S,crossOrigin:f.crossOrigin})}return null}Object.defineProperty(_,"__nextScript",{value:!0});let b=_;("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},3303,(e,t,n)=>{t.exports=e.r(79520)},81694,e=>{"use strict";var t,n=e.i(43476),r=e.i(37902),o=e.i(71645),i=e.i(18566);let a=()=>(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),s=()=>(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,n.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});function l({messages:e,isThinking:t,onSend:r,selectedContext:i,currentPage:l,currentTheme:c,onThemeChange:d}){let[u,p]=(0,o.useState)("chat"),[f,m]=(0,o.useState)(""),h=(0,o.useRef)(null);(0,o.useEffect)(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[e,u]);let g=()=>{f.trim()&&!t&&(r(f),m(""))},y=(e,t)=>{d&&c&&d({...c,[e]:t})};return(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsxs)("div",{className:"sidebar-header",children:[(0,n.jsx)("div",{className:"page-title",children:l?.name||"Unknown Page"}),(0,n.jsxs)("div",{className:"tab-buttons",children:[(0,n.jsx)("button",{onClick:()=>p("chat"),className:`tab-btn ${"chat"===u?"active":""}`,title:"AI Chat",children:(0,n.jsx)(a,{})}),(0,n.jsx)("button",{onClick:()=>p("settings"),className:`tab-btn ${"settings"===u?"active":""}`,title:"Page Settings",children:(0,n.jsx)(s,{})})]})]}),(0,n.jsxs)("div",{className:"sidebar-content-wrapper",children:["chat"===u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"chat-messages",children:[(!e||0===e.length)&&(0,n.jsxs)("div",{className:"empty-state",children:["Start chatting to edit ",(0,n.jsx)("b",{children:l?.name}),"."]}),e&&e.map((e,t)=>(0,n.jsx)("div",{className:`msg ${e.role}`,children:e.content},t)),(0,n.jsx)("div",{ref:h})]}),(0,n.jsxs)("div",{className:"input-section",children:[i&&(0,n.jsx)("div",{className:"context-badge",children:(0,n.jsxs)("span",{children:["EDITING: ",(0,n.jsxs)("b",{children:["<",i.tagName.toUpperCase(),">"]})]})}),(0,n.jsx)("textarea",{value:f,onChange:e=>m(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),g()),placeholder:`Ask to change ${l?.name}...`,className:"chat-input"}),(0,n.jsx)("button",{onClick:g,disabled:t,className:"send-btn",children:t?"Generating...":"Send"})]})]}),"settings"===u&&c&&(0,n.jsxs)("div",{className:"settings-panel",children:[(0,n.jsx)("h3",{className:"settings-title",children:"Page Theme"}),(0,n.jsxs)("p",{className:"settings-subtitle",children:["Settings for ",(0,n.jsx)("b",{children:l?.name})]}),(0,n.jsxs)("div",{className:"setting-group",children:[(0,n.jsx)("label",{children:"Primary Color"}),(0,n.jsxs)("div",{className:"color-picker-wrapper",children:[(0,n.jsx)("input",{type:"color",value:c.primaryColor||"#000000",onChange:e=>y("primaryColor",e.target.value),className:"color-swatch"}),(0,n.jsx)("input",{type:"text",value:c.primaryColor||"",onChange:e=>y("primaryColor",e.target.value),className:"text-input",placeholder:"#000000"})]})]}),(0,n.jsxs)("div",{className:"setting-group",children:[(0,n.jsx)("label",{children:"Secondary Color"}),(0,n.jsxs)("div",{className:"color-picker-wrapper",children:[(0,n.jsx)("input",{type:"color",value:c.secondaryColor||"#ffffff",onChange:e=>y("secondaryColor",e.target.value),className:"color-swatch"}),(0,n.jsx)("input",{type:"text",value:c.secondaryColor||"",onChange:e=>y("secondaryColor",e.target.value),className:"text-input",placeholder:"#ffffff"})]})]}),(0,n.jsxs)("div",{className:"setting-group",children:[(0,n.jsx)("label",{children:"Font Family"}),(0,n.jsxs)("select",{value:c.fontFamily||"Arial",onChange:e=>y("fontFamily",e.target.value),className:"dropdown-input",children:[(0,n.jsx)("option",{value:"Arial, sans-serif",children:"Arial"}),(0,n.jsx)("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),(0,n.jsx)("option",{value:"'Courier New', monospace",children:"Courier New"}),(0,n.jsx)("option",{value:"Georgia, serif",children:"Georgia"}),(0,n.jsx)("option",{value:"Verdana, sans-serif",children:"Verdana"})]})]}),(0,n.jsxs)("div",{className:"setting-group",children:[(0,n.jsx)("label",{children:"Border Radius"}),(0,n.jsx)("input",{type:"text",value:c.borderRadius||"4px",onChange:e=>y("borderRadius",e.target.value),className:"text-input",placeholder:"e.g. 8px"})]})]})]})]})}e.i(47167);var c=e.i(3303);function d({onReady:e,onSelection:t,onPageChange:r,onUpdate:i}){let[a,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let n=setInterval(()=>{if(window.GrapesJsStudioSDK){clearInterval(n);let o=document.getElementById("studio-editor");o&&""===o.innerHTML&&window.GrapesJsStudioSDK.createStudioEditor({root:"#studio-editor",licenseKey:"",theme:"dark",project:{type:"web"},assets:{storageType:"self"},onReady:n=>{s(!0),window.studioEditor=n;let o=()=>{let e=n.Pages.getSelected();e&&r&&r({id:e.id,name:e.get("name")||"Untitled Page"})};o(),n.on("page:select",()=>{o(),t&&t(null)}),n.on("component:selected",e=>{if(!e)return;let n={id:e.cid,tagName:e.get("tagName"),currentHTML:e.toHTML()};t&&t(n)}),n.on("component:deselected",()=>{t&&t(null)}),n.on("update",()=>{i&&i(n.getProjectData())}),e&&e(n)}})}},100);return()=>clearInterval(n)},[e,t,r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/@grapesjs/studio-sdk/dist/style.css"}),(0,n.jsx)(c.default,{src:"https://unpkg.com/@grapesjs/studio-sdk/dist/index.umd.js",strategy:"lazyOnload"}),(0,n.jsxs)("div",{className:"editor-area",children:[!a&&(0,n.jsx)("div",{className:"loading-overlay",children:"Loading Studio SDK..."}),(0,n.jsx)("div",{id:"studio-editor",style:{height:"100%"}})]})]})}let{entries:u,setPrototypeOf:p,isFrozen:f,getPrototypeOf:m,getOwnPropertyDescriptor:h}=Object,{freeze:g,seal:y,create:_}=Object,{apply:b,construct:S}="undefined"!=typeof Reflect&&Reflect;g||(g=function(e){return e}),y||(y=function(e){return e}),b||(b=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return e.apply(t,r)}),S||(S=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});let v=L(Array.prototype.forEach),x=L(Array.prototype.lastIndexOf),T=L(Array.prototype.pop),E=L(Array.prototype.push),w=L(Array.prototype.splice),C=L(String.prototype.toLowerCase),A=L(String.prototype.toString),N=L(String.prototype.match),R=L(String.prototype.replace),k=L(String.prototype.indexOf),O=L(String.prototype.trim),I=L(Object.prototype.hasOwnProperty),D=L(RegExp.prototype.test),j=(t=TypeError,function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return S(t,n)});function L(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return b(e,t,r)}}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;p&&p(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){let e=n(o);e!==o&&(f(t)||(t[r]=e),o=e)}e[o]=!0}return e}function U(e){let t=_(null);for(let[n,r]of u(e))I(e,n)&&(Array.isArray(r)?t[n]=function(e){for(let t=0;t<e.length;t++)I(e,t)||(e[t]=null);return e}(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=U(r):t[n]=r);return t}function F(e,t){for(;null!==e;){let n=h(e,t);if(n){if(n.get)return L(n.get);if("function"==typeof n.value)return L(n.value)}e=m(e)}return function(){return null}}let P=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=g(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=g(["#text"]),W=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Y=g(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),V=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),J=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),X=y(/<%[\w\W]*|[\w\W]*%>/gm),Z=y(/\$\{[\w\W]*/gm),Q=y(/^data-[\-\w.\u00B7-\uFFFF]+$/),ee=y(/^aria-[\-\w]+$/),et=y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),en=y(/^(?:\w+script|data):/i),er=y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eo=y(/^html$/i);var ei=Object.freeze({__proto__:null,ARIA_ATTR:ee,ATTR_WHITESPACE:er,CUSTOM_ELEMENT:y(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:Q,DOCTYPE_NAME:eo,ERB_EXPR:X,IS_ALLOWED_URI:et,IS_SCRIPT_OR_DATA:en,MUSTACHE_EXPR:K,TMPLIT_EXPR:Z});let ea=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},es=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};var el=function e(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,r=t=>e(t);if(r.version="3.3.1",r.removed=[],!n||!n.document||9!==n.document.nodeType||!n.Element)return r.isSupported=!1,r;let{document:o}=n,i=o,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:d,NodeFilter:p,NamedNodeMap:f=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:y}=n,b=d.prototype,S=F(b,"cloneNode"),L=F(b,"remove"),K=F(b,"nextSibling"),X=F(b,"childNodes"),Z=F(b,"parentNode");if("function"==typeof l){let e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let Q="",{implementation:ee,createNodeIterator:en,createDocumentFragment:er,getElementsByTagName:el}=o,{importNode:ec}=i,ed=es();r.isSupported="function"==typeof u&&"function"==typeof Z&&ee&&void 0!==ee.createHTMLDocument;let{MUSTACHE_EXPR:eu,ERB_EXPR:ep,TMPLIT_EXPR:ef,DATA_ATTR:em,ARIA_ATTR:eh,IS_SCRIPT_OR_DATA:eg,ATTR_WHITESPACE:ey,CUSTOM_ELEMENT:e_}=ei,{IS_ALLOWED_URI:eb}=ei,eS=null,ev=M({},[...P,...z,...H,...B,...q]),ex=null,eT=M({},[...W,...Y,...V,...J]),eE=Object.seal(_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ew=null,eC=null,eA=Object.seal(_(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),eN=!0,eR=!0,ek=!1,eO=!0,eI=!1,eD=!0,ej=!1,eL=!1,eM=!1,eU=!1,eF=!1,eP=!1,ez=!0,eH=!1,eG=!0,eB=!1,e$={},eq=null,eW=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eY=null,eV=M({},["audio","video","img","source","image","track"]),eJ=null,eK=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eX="http://www.w3.org/1998/Math/MathML",eZ="http://www.w3.org/2000/svg",eQ="http://www.w3.org/1999/xhtml",e0=eQ,e1=!1,e2=null,e6=M({},[eX,eZ,eQ],A),e3=M({},["mi","mo","mn","ms","mtext"]),e5=M({},["annotation-xml"]),e4=M({},["title","style","font","a","script"]),e8=null,e9=["application/xhtml+xml","text/html"],e7=null,te=null,tt=o.createElement("form"),tn=function(e){return e instanceof RegExp||e instanceof Function},tr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!te||te!==e){if(e&&"object"==typeof e||(e={}),e=U(e),e7="application/xhtml+xml"===(e8=-1===e9.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?A:C,eS=I(e,"ALLOWED_TAGS")?M({},e.ALLOWED_TAGS,e7):ev,ex=I(e,"ALLOWED_ATTR")?M({},e.ALLOWED_ATTR,e7):eT,e2=I(e,"ALLOWED_NAMESPACES")?M({},e.ALLOWED_NAMESPACES,A):e6,eJ=I(e,"ADD_URI_SAFE_ATTR")?M(U(eK),e.ADD_URI_SAFE_ATTR,e7):eK,eY=I(e,"ADD_DATA_URI_TAGS")?M(U(eV),e.ADD_DATA_URI_TAGS,e7):eV,eq=I(e,"FORBID_CONTENTS")?M({},e.FORBID_CONTENTS,e7):eW,ew=I(e,"FORBID_TAGS")?M({},e.FORBID_TAGS,e7):U({}),eC=I(e,"FORBID_ATTR")?M({},e.FORBID_ATTR,e7):U({}),e$=!!I(e,"USE_PROFILES")&&e.USE_PROFILES,eN=!1!==e.ALLOW_ARIA_ATTR,eR=!1!==e.ALLOW_DATA_ATTR,ek=e.ALLOW_UNKNOWN_PROTOCOLS||!1,eO=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eI=e.SAFE_FOR_TEMPLATES||!1,eD=!1!==e.SAFE_FOR_XML,ej=e.WHOLE_DOCUMENT||!1,eU=e.RETURN_DOM||!1,eF=e.RETURN_DOM_FRAGMENT||!1,eP=e.RETURN_TRUSTED_TYPE||!1,eM=e.FORCE_BODY||!1,ez=!1!==e.SANITIZE_DOM,eH=e.SANITIZE_NAMED_PROPS||!1,eG=!1!==e.KEEP_CONTENT,eB=e.IN_PLACE||!1,eb=e.ALLOWED_URI_REGEXP||et,e0=e.NAMESPACE||eQ,e3=e.MATHML_TEXT_INTEGRATION_POINTS||e3,e5=e.HTML_INTEGRATION_POINTS||e5,eE=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eE.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eE.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eE.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eI&&(eR=!1),eF&&(eU=!0),e$&&(eS=M({},q),ex=[],!0===e$.html&&(M(eS,P),M(ex,W)),!0===e$.svg&&(M(eS,z),M(ex,Y),M(ex,J)),!0===e$.svgFilters&&(M(eS,H),M(ex,Y),M(ex,J)),!0===e$.mathMl&&(M(eS,B),M(ex,V),M(ex,J))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?eA.tagCheck=e.ADD_TAGS:(eS===ev&&(eS=U(eS)),M(eS,e.ADD_TAGS,e7))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?eA.attributeCheck=e.ADD_ATTR:(ex===eT&&(ex=U(ex)),M(ex,e.ADD_ATTR,e7))),e.ADD_URI_SAFE_ATTR&&M(eJ,e.ADD_URI_SAFE_ATTR,e7),e.FORBID_CONTENTS&&(eq===eW&&(eq=U(eq)),M(eq,e.FORBID_CONTENTS,e7)),e.ADD_FORBID_CONTENTS&&(eq===eW&&(eq=U(eq)),M(eq,e.ADD_FORBID_CONTENTS,e7)),eG&&(eS["#text"]=!0),ej&&M(eS,["html","head","body"]),eS.table&&(M(eS,["tbody"]),delete ew.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw j('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw j('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=ea(y,a)),null!==t&&"string"==typeof Q&&(Q=t.createHTML(""));g&&g(e),te=e}},to=M({},[...z,...H,...G]),ti=M({},[...B,...$]),ta=function(e){let t=Z(e);t&&t.tagName||(t={namespaceURI:e0,tagName:"template"});let n=C(e.tagName),r=C(t.tagName);return!!e2[e.namespaceURI]&&(e.namespaceURI===eZ?t.namespaceURI===eQ?"svg"===n:t.namespaceURI===eX?"svg"===n&&("annotation-xml"===r||e3[r]):!!to[n]:e.namespaceURI===eX?t.namespaceURI===eQ?"math"===n:t.namespaceURI===eZ?"math"===n&&e5[r]:!!ti[n]:e.namespaceURI===eQ?(t.namespaceURI!==eZ||!!e5[r])&&(t.namespaceURI!==eX||!!e3[r])&&!ti[n]&&(e4[n]||!to[n]):"application/xhtml+xml"===e8&&!!e2[e.namespaceURI])},ts=function(e){E(r.removed,{element:e});try{Z(e).removeChild(e)}catch(t){L(e)}},tl=function(e,t){try{E(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){E(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(eU||eF)try{ts(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},tc=function(e){let n=null,r=null;if(eM)e="<remove></remove>"+e;else{let t=N(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===e8&&e0===eQ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let i=t?t.createHTML(e):e;if(e0===eQ)try{n=new h().parseFromString(i,e8)}catch(e){}if(!n||!n.documentElement){n=ee.createDocument(e0,"template",null);try{n.documentElement.innerHTML=e1?Q:i}catch(e){}}let a=n.body||n.documentElement;return(e&&r&&a.insertBefore(o.createTextNode(r),a.childNodes[0]||null),e0===eQ)?el.call(n,ej?"html":"body")[0]:ej?n.documentElement:a},td=function(e){return en.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},tu=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tp=function(e){return"function"==typeof c&&e instanceof c};function tf(e,t,n){v(e,e=>{e.call(r,t,n,te)})}let tm=function(e){let t=null;if(tf(ed.beforeSanitizeElements,e,null),tu(e))return ts(e),!0;let n=e7(e.nodeName);if(tf(ed.uponSanitizeElement,e,{tagName:n,allowedTags:eS}),eD&&e.hasChildNodes()&&!tp(e.firstElementChild)&&D(/<[/\w!]/g,e.innerHTML)&&D(/<[/\w!]/g,e.textContent)||7===e.nodeType||eD&&8===e.nodeType&&D(/<[/\w]/g,e.data))return ts(e),!0;if(!(eA.tagCheck instanceof Function&&eA.tagCheck(n))&&(!eS[n]||ew[n])){if(!ew[n]&&tg(n)&&(eE.tagNameCheck instanceof RegExp&&D(eE.tagNameCheck,n)||eE.tagNameCheck instanceof Function&&eE.tagNameCheck(n)))return!1;if(eG&&!eq[n]){let t=Z(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t){let r=n.length;for(let o=r-1;o>=0;--o){let r=S(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,K(e))}}}return ts(e),!0}return e instanceof d&&!ta(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&D(/<\/no(script|embed|frames)/i,e.innerHTML)?(ts(e),!0):(eI&&3===e.nodeType&&(t=e.textContent,v([eu,ep,ef],e=>{t=R(t,e," ")}),e.textContent!==t&&(E(r.removed,{element:e.cloneNode()}),e.textContent=t)),tf(ed.afterSanitizeElements,e,null),!1)},th=function(e,t,n){if(ez&&("id"===t||"name"===t)&&(n in o||n in tt))return!1;if(eR&&!eC[t]&&D(em,t));else if(eN&&D(eh,t));else if(eA.attributeCheck instanceof Function&&eA.attributeCheck(t,e));else if(!ex[t]||eC[t]){if(!(tg(e)&&(eE.tagNameCheck instanceof RegExp&&D(eE.tagNameCheck,e)||eE.tagNameCheck instanceof Function&&eE.tagNameCheck(e))&&(eE.attributeNameCheck instanceof RegExp&&D(eE.attributeNameCheck,t)||eE.attributeNameCheck instanceof Function&&eE.attributeNameCheck(t,e))||"is"===t&&eE.allowCustomizedBuiltInElements&&(eE.tagNameCheck instanceof RegExp&&D(eE.tagNameCheck,n)||eE.tagNameCheck instanceof Function&&eE.tagNameCheck(n))))return!1}else if(eJ[t]);else if(D(eb,R(n,ey,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===k(n,"data:")&&eY[e]);else if(ek&&!D(eg,R(n,ey,"")));else if(n)return!1;return!0},tg=function(e){return"annotation-xml"!==e&&N(e,e_)},ty=function(e){tf(ed.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||tu(e))return;let o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ex,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:a,namespaceURI:s,value:l}=n[i],c=e7(a),d="value"===a?l:O(l);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,tf(ed.uponSanitizeAttribute,e,o),d=o.attrValue,eH&&("id"===c||"name"===c)&&(tl(a,e),d="user-content-"+d),eD&&D(/((--!?|])>)|<\/(style|title|textarea)/i,d)||"attributename"===c&&N(d,"href")){tl(a,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr||!eO&&D(/\/>/i,d)){tl(a,e);continue}eI&&v([eu,ep,ef],e=>{d=R(d,e," ")});let u=e7(e.nodeName);if(!th(u,c,d)){tl(a,e);continue}if(t&&"object"==typeof y&&"function"==typeof y.getAttributeType)if(s);else switch(y.getAttributeType(u,c)){case"TrustedHTML":d=t.createHTML(d);break;case"TrustedScriptURL":d=t.createScriptURL(d)}if(d!==l)try{s?e.setAttributeNS(s,a,d):e.setAttribute(a,d),tu(e)?ts(e):T(r.removed)}catch(t){tl(a,e)}}tf(ed.afterSanitizeAttributes,e,null)},t_=function e(t){let n=null,r=td(t);for(tf(ed.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)tf(ed.uponSanitizeShadowNode,n,null),tm(n),ty(n),n.content instanceof s&&e(n.content);tf(ed.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,a=null,l=null,d=null;if((e1=!e)&&(e="<!-->"),"string"!=typeof e&&!tp(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw j("dirty is not a string, aborting")}else throw j("toString is not a function");if(!r.isSupported)return e;if(eL||tr(n),r.removed=[],"string"==typeof e&&(eB=!1),eB){if(e.nodeName){let t=e7(e.nodeName);if(!eS[t]||ew[t])throw j("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(a=(o=tc("<!---->")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!eU&&!eI&&!ej&&-1===e.indexOf("<"))return t&&eP?t.createHTML(e):e;if(!(o=tc(e)))return eU?null:eP?Q:""}o&&eM&&ts(o.firstChild);let u=td(eB?e:o);for(;l=u.nextNode();)tm(l),ty(l),l.content instanceof s&&t_(l.content);if(eB)return e;if(eU){if(eF)for(d=er.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return(ex.shadowroot||ex.shadowrootmode)&&(d=ec.call(i,d,!0)),d}let p=ej?o.outerHTML:o.innerHTML;return ej&&eS["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&D(eo,o.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+p),eI&&v([eu,ep,ef],e=>{p=R(p,e," ")}),t&&eP?t.createHTML(p):p},r.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr(e),eL=!0},r.clearConfig=function(){te=null,eL=!1},r.isValidAttribute=function(e,t,n){return te||tr({}),th(e7(e),e7(t),n)},r.addHook=function(e,t){"function"==typeof t&&E(ed[e],t)},r.removeHook=function(e,t){if(void 0!==t){let n=x(ed[e],t);return -1===n?void 0:w(ed[e],n,1)[0]}return T(ed[e])},r.removeHooks=function(e){ed[e]=[]},r.removeAllHooks=function(){ed=es()},r}();let ec=[{type:"function",function:{name:"style_element",description:"Apply CSS styles to the currently selected element. Use this for visual changes like 'make it red', 'add rounded corners', 'modernize', 'fix spacing'.",parameters:{type:"object",properties:{css:{type:"object",description:"A JSON object of CSS properties (e.g., {'border-radius': '10px', 'background-color': '#000'})",additionalProperties:{type:"string"}},recursive:{type:"boolean",description:"If true, applies the styles to the selected element AND ALL its descendants. Use this when the user says 'make EVERYTHING inside...' or 'change all fonts'."}},required:["css"]}}},{type:"function",function:{name:"update_inner_content",description:"Replace the text or inner HTML structure of the selected element. Use this to change text, add icons inside a button, or change the layout *inside* a container. NEVER use this to wrap the selected element itself.",parameters:{type:"object",properties:{html:{type:"string",description:"The new inner HTML string."}},required:["html"]}}},{type:"function",function:{name:"append_component",description:"Insert a NEW component (like a button, image, or text) *inside* the selected element at the very end of its children. IMPORTANT: Include 'data-gjs-name=\"My Component Name\"' in the HTML to give it a clear name in the Layer Manager.",parameters:{type:"object",properties:{component:{type:"string",description:"HTML string of the new component to add. Example: '<div data-gjs-name=\"Hero Section\">...</div>'"}},required:["component"]}}},{type:"function",function:{name:"generate_whole_page",description:"Replaces the ENTIRE page content with new HTML. Use this ONLY when the user asks to 'generate a landing page', 'create a website', or completely clear and rebuild the page. IMPORTANT: Use 'data-gjs-name' on main sections.",parameters:{type:"object",properties:{html:{type:"string",description:'The complete HTML structure. Main sections should have naming like <section data-gjs-name="Testimonials">...'}},required:["html"]}}},{type:"function",function:{name:"delete_component",description:"Remove the currently selected component from the page.",parameters:{type:"object",properties:{},required:[]}}},{type:"function",function:{name:"add_class",description:"Add a CSS class to the selected component. Useful for applying utility classes or pre-defined styles.",parameters:{type:"object",properties:{className:{type:"string",description:"The name of the class to add."}},required:["className"]}}},{type:"function",function:{name:"insert_sibling_before",description:"Insert a NEW component BEFORE the currently selected element (as a sibling). Use 'data-gjs-name' for semantic naming.",parameters:{type:"object",properties:{component:{type:"string",description:"HTML string of the new component. Example: '<div data-gjs-name=\"Feature\">...</div>'"}},required:["component"]}}},{type:"function",function:{name:"insert_sibling_after",description:"Insert a NEW component AFTER the currently selected element (as a sibling). Use 'data-gjs-name' for semantic naming.",parameters:{type:"object",properties:{component:{type:"string",description:"HTML string of the new component. Example: '<div data-gjs-name=\"Contact Form\">...</div>'"}},required:["component"]}}},{type:"function",function:{name:"search_image",description:"Search for a real image from Unsplash AND apply it to the selected element. This tool searches AND applies in one step - no need for a follow-up tool call.",parameters:{type:"object",properties:{query:{type:"string",description:"Search keywords describing the image (e.g., 'sunset beach', 'modern office', 'happy team')"},apply_as:{type:"string",enum:["background","img_append","img_replace"],description:"How to apply the image: 'background' = set as CSS background-image on selected element, 'img_append' = append an <img> tag inside selected element, 'img_replace' = replace selected element's content with an <img> tag"},color:{type:"string",enum:["black_and_white","black","white","yellow","orange","red","purple","magenta","green","teal","blue"],description:"Optional: Filter images by dominant color"},orientation:{type:"string",enum:["landscape","portrait","squarish"],description:"Optional: Filter images by orientation. Use 'landscape' for wide/banner images, 'portrait' for tall images, 'squarish' for roughly square images."}},required:["query","apply_as"]}}}];var ed=e.i(16879);let eu=(0,ed.createClient)(),ep={async savePage(e,t){let{data:{user:n}}=await eu.auth.getUser();if(!n)return console.warn("Save attempted with no user logged in"),null;let{error:r}=await eu.from("pages").upsert({id:e,user_id:n.id,name:t.name||"Untitled",content:t.content||{},theme:t.theme||{},messages:t.messages||[],updated_at:new Date().toISOString()}).select().single();if(r)throw console.error("Error saving page:",r),r;return!0},async loadPage(e){let{data:t,error:n}=await eu.from("pages").select("*").eq("id",e).single();return n?("PGRST116"===n.code||console.error("Error loading page:",n),null):t},async getUserPages(){let{data:{user:e}}=await eu.auth.getUser();if(!e)return[];let{data:t,error:n}=await eu.from("pages").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});return n?(console.error("Error getting pages:",n),[]):t}};function ef(){let e=(0,o.useRef)(null),t=(0,i.useRouter)(),[a,s]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null),[p,f]=(0,o.useState)(null),[m,h]=(0,o.useState)({}),{isThinking:g,generateResponse:y}=function(){let[e,t]=(0,o.useState)(!1),n=(e,t=0)=>{if(!e||t>3)return"";let r=e.get("tagName")||"div",o=e.getClasses().join(" "),i=e.getId(),a=e.get("type")||"",s=`<${r}`;if(i&&(s+=` id="${i}"`),o&&(s+=` class="${o}"`),a&&"default"!==a&&(s+=` type="${a}"`),s+=">",e.is("text")){let t=e.get("content")||"";s+=t.substring(0,50)+(t.length>50?"...":"")}else{let r=e.get("components");r&&r.length>0&&r.forEach(e=>{s+=n(e,t+1)})}return s+=`</${r}>`},r=async(e,t,n,r)=>{if(console.log(`üîß [DEBUG] Executing Tool: ${e}`,t),!n&&"generate_whole_page"!==e)return"Error: No component selected for this operation.";switch(e){case"style_element":if(t.recursive)return n.addStyle(t.css),n.find("*").forEach(e=>e.addStyle(t.css)),"Styles updated for element and all descendants.";return n.addStyle(t.css),"Styles updated.";case"update_inner_content":let o=el.sanitize(t.html,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return n.components(o),"Content updated.";case"append_component":let i=el.sanitize(t.component,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return n.append(i),"Component appended.";case"generate_whole_page":if(!r)return"Error: Editor not found.";let a=el.sanitize(t.html,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return r.setComponents(a),"Page generated successfully.";case"delete_component":if(n===r.getWrapper())return"Error: Cannot delete the page wrapper.";return n.remove(),"Component deleted.";case"add_class":return n.addClass(t.className),`Class '${t.className}' added.`;case"insert_sibling_before":{let e=n.parent();if(!e)return"Error: Cannot insert before root element.";let r=e.components().indexOf(n),o=el.sanitize(t.component,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return e.append(o,{at:r}),"Component inserted before."}case"insert_sibling_after":{let e=n.parent();if(!e)return"Error: Cannot insert after root element.";let r=e.components().indexOf(n),o=el.sanitize(t.component,{FORCE_BODY:!0,ADD_ATTR:["style","class"]});return e.append(o,{at:r+1}),"Component inserted after."}case"search_image":console.log("üì∏ [DEBUG] Searching for image:",t);try{let e=await fetch("/api/unsplash/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t.query,color:t.color,orientation:t.orientation,random:!0})});if(!e.ok){let t=await e.text();return console.error("‚ùå [DEBUG] Unsplash API error:",t),`Error searching image: ${t}. Using placeholder instead.`}let r=await e.json();if(!r.image)return console.log("‚ö†Ô∏è [DEBUG] No images found for query:",t.query),`No images found for "${t.query}". Try different keywords.`;let o=r.image;switch(console.log("‚úÖ [DEBUG] Found image:",o.url),t.apply_as||"img_append"){case"background":return n.addStyle({"background-image":`url("${o.url}")`,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}),console.log("‚úÖ [DEBUG] Applied as background image"),`Background image set. Photo by ${o.photographer}.`;case"img_replace":let i=`<img src="${o.url}" alt="${o.alt}" style="max-width: 100%; height: auto; border-radius: 8px;" />`;return n.components(i),console.log("‚úÖ [DEBUG] Replaced content with image"),`Image replaced. Photo by ${o.photographer}.`;default:let a=`<img src="${o.url}" alt="${o.alt}" style="max-width: 100%; height: auto; border-radius: 8px;" />`;return n.append(a),console.log("‚úÖ [DEBUG] Appended image"),`Image added. Photo by ${o.photographer}.`}}catch(e){return console.error("‚ùå [DEBUG] Image search failed:",e),`Error: ${e.message}. Consider using a placeholder URL.`}default:return"Unknown command."}};return{isThinking:e,generateResponse:async(e,o,i,a,s,l,c)=>{if(console.log("üöÄ [DEBUG] generateResponse STARTED"),!o.trim()||!e){s&&s("Error: Editor not ready.");return}t(!0);let d=e.getSelected()||e.getWrapper(),u=d===e.getWrapper(),p=`
      ROLE: You are an AI assistant controlling a GrapesJS visual web editor. You execute edits by calling tools.

      =============================================
      *** CURRENT TARGET (THIS IS WHAT YOU EDIT) ***
      =============================================
      Element Type: ${u?"ENTIRE PAGE (body wrapper)":`<${d.get("tagName")}>`}
      ${!u?`Element ID: ${d.getId()||"none"}`:""}
      ${!u?`Element Classes: ${d.getClasses().join(" ")||"none"}`:""}
      ${!u?`
Element HTML:
\`\`\`html
${d.toHTML()}
\`\`\`
`:""}
      =============================================

      ${c?`
      =============================================
      *** PAGE THEME (USE THESE COLORS/STYLES) ***
      =============================================
      Primary Color: ${c.primaryColor||"#2563eb"}
      Secondary Color: ${c.secondaryColor||"#ffffff"}
      Font Family: ${c.fontFamily||"Arial"}
      Border Radius: ${c.borderRadius||"8px"}
      =============================================
      When adding new elements (buttons, sections, etc.), USE THESE THEME VALUES for consistency!
      `:""}

      PAGE STRUCTURE (for reference):
      \`\`\`html
      ${!e?"":n(e.getWrapper())}
      \`\`\`

      USER REQUEST: "${o}"

      *** IMPORTANT: Focus ONLY on the CURRENT TARGET above. Ignore any previous messages about different elements. ***

      ---
      TOOL SELECTION RULES (FOLLOW STRICTLY):

      1.  **To ADD a new element** (image, button, section, etc.) -> Use \`append_component\`.
          - This inserts a NEW child element at the END of the selected element.
          - Provide the full HTML for the new component (e.g., \`<img src="..." />\`).

      2.  **To CHANGE existing text or inner structure** -> Use \`update_inner_content\`.
          - This REPLACES the innerHTML of the selected element.
          - Use ONLY for text changes or restructuring *inside* the element.

      3.  **To STYLE the selected element** (colors, fonts, spacing, borders) -> Use \`style_element\`.
          - Provide a JSON object of CSS properties.

      4.  **To DELETE the selected element** -> Use \`delete_component\`.

      5.  **To GENERATE a WHOLE NEW PAGE** (only if user asks for "landing page", "website") -> Use \`generate_whole_page\`.

      ---
      EXAMPLES:
      - User: "add an image of a sunset" -> Call \`search_image\` with \`{ "query": "sunset", "orientation": "landscape", "apply_as": "img_append" }\`.
      - User: "change this background to a beach" -> Call \`search_image\` with \`{ "query": "beach", "apply_as": "background" }\`.
      - User: "replace this image with a cat" -> Call \`search_image\` with \`{ "query": "cat", "apply_as": "img_replace" }\`.
      - User: "make this button red" -> Call \`style_element\` with \`{ "css": {"background-color": "red"} }\`
      - User: "change the title to Welcome" -> Call \`update_inner_content\` with \`{ "html": "Welcome" }\`
      - User: "delete this section" -> Call \`delete_component\`.
      - User: "add a header before this" -> Call \`insert_sibling_before\` with \`{ "component": "<h1>Header</h1>" }\`.
      - User: "add a footer after this" -> Call \`insert_sibling_after\` with \`{ "component": "<footer>Footer content</footer>" }\`.

      CRITICAL RULES:
      - You MUST call a tool. NEVER respond with text explanations.
      - Call ONLY ONE tool per response.
      - **FOR IMAGES**: Use \`search_image\` with the appropriate \`apply_as\` parameter ('background', 'img_append', or 'img_replace') to find AND apply the image in one step.
      - **FOR STYLING CHILDREN**: If the user asks to "make everything inside white" or "change all fonts", use \`style_element\` with \`recursive: true\`.
      - Use \`insert_sibling_before\`/\`insert_sibling_after\` when adding elements AS SIBLINGS (before/after), use \`append_component\` when adding elements AS CHILDREN (inside).
      - When creating new elements, USE THE PAGE THEME colors (Primary Color for buttons/accents, Secondary Color for backgrounds, Font Family for text, Border Radius for corners).
      - **ALWAYS provide a semantic name** for significant elements (sections, buttons, containers) using the \`data-gjs-name\` attribute. Example: \`<div data-gjs-name="Hero Section">...</div>\`. This helps the user identify components in the layer manager.
      - DO NOT explain what you are doing. Just call the tool.
    `;try{let t={model:"google/gemini-2.0-flash-exp:free",messages:[{role:"system",content:p},...i],tools:ec,tool_choice:"required"};console.log("üì§ [Client] Sending Payload:",JSON.stringify({...t,messages:[...t.messages.slice(0,1),{role:"...",content:`(${t.messages.length-1} more messages)`}]},null,2));let n=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){let e=await n.text();throw console.error(`‚ùå[Client] API Error ${n.status}: `,e),Error(`API Error: ${n.statusText} - ${e} `)}console.log(`üì•[Client] Response Status: ${n.status} ${n.statusText} `);let o=await n.json();console.log("üì• [Client] Response Data:",JSON.stringify({id:o.id,model:o.model,usage:o.usage,choicesCount:o.choices?.length,finishReason:o.choices?.[0]?.finish_reason,hasToolCalls:!!o.choices?.[0]?.message?.tool_calls,hasContent:!!o.choices?.[0]?.message?.content},null,2));let a=o.choices[0].message,c="";if(a.tool_calls&&a.tool_calls.length>0)for(let t of(console.log(`üîß[Client] Processing ${a.tool_calls.length} tool call(s)`),a.tool_calls)){let n=t.function.name,o={};try{o=JSON.parse(t.function.arguments)}catch(e){console.error("‚ùå [Client] Failed to parse tool arguments:",t.function.arguments)}let i=await r(n,o,d,e);console.log(`‚úÖ[Client] Tool '${n}' result: ${i} `),c+=i+" "}else a.content?(console.log("üí¨ [Client] LLM returned text content (no tool call)"),c=a.content):(console.log("‚ö†Ô∏è [Client] LLM returned empty response"),c="Done.");s&&s(c),l&&l(c)}catch(e){console.error("‚ùå [DEBUG] AI Error:",e),s&&s("Sorry, something went wrong.")}finally{t(!1)}}}}(),_=(0,ed.createClient)();(0,o.useEffect)(()=>{(async()=>{let{data:{user:e}}=await _.auth.getUser();if(!e)return t.push("/login");let n=await ep.getUserPages();if(n&&n.length>0){let e={};n.forEach(t=>{e[t.id]={messages:t.messages||[],theme:t.theme||{primaryColor:"#2563eb",secondaryColor:"#ffffff",fontFamily:"Arial",borderRadius:"4px"},content:t.content,name:t.name}}),h(e),f({name:n[0].name,id:n[0].id})}else{let e="page-"+Math.random().toString(36).substr(2,9),t={messages:[{role:"assistant",content:"Hello! I created a new project for you."}],theme:{primaryColor:"#2563eb",secondaryColor:"#ffffff",fontFamily:"Arial",borderRadius:"4px"},content:{},name:"Home"};h({[e]:t}),f({name:"Home",id:e}),ep.savePage(e,t)}s(!1)})()},[t]);let b=(0,o.useRef)(null),S=(0,o.useCallback)((e,t)=>{b.current&&clearTimeout(b.current),b.current=setTimeout(async()=>{console.log("Saving page...",e),await ep.savePage(e,t)},1e3)},[]),v=()=>p&&m[p.id]?m[p.id]:{messages:[],theme:{primaryColor:"#000000",secondaryColor:"#ffffff"}},x=async t=>{if(!p)return;let n=p.id,r=v(),o=r.messages||[],i=r.theme,a={role:"user",content:t},s={role:"assistant",content:""};h(e=>{let t={...e};return t[n]={...t[n],messages:[...o,a,s]},t});let l=[...o.slice(-2),a];await y(e.current,t,l,c,e=>{h(t=>{let r=t[n],o=[...r.messages];o[o.length-1]={role:"assistant",content:e};let i={...r,messages:o};return{...t,[n]:i}})},null,i),h(e=>(S(n,e[n]),e))};return a?(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-black text-white",children:"Loading..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.default,{id:"a513a8c8556cb9e9",children:"*{box-sizing:border-box;margin:0;padding:0}body{color:#fff;background:#000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;overflow:hidden}.main-layout{width:100vw;height:100vh;display:flex;overflow:hidden}.sidebar{background:#1a1a1a;border-right:1px solid #333;flex-direction:column;width:400px;display:flex;position:relative}.sidebar-header{background-color:#252525;border-bottom:1px solid #333;justify-content:space-between;align-items:center;padding:15px;display:flex}.page-title{color:#fff;font-size:14px;font-weight:700}.tab-buttons{background:#111;border-radius:6px;gap:5px;padding:4px;display:flex}.tab-btn{color:#666;cursor:pointer;background:0 0;border:none;border-radius:4px;align-items:center;padding:6px;display:flex}.tab-btn:hover{background:#333}.tab-btn.active{color:#fff;background:#2563eb}.sidebar-content-wrapper{flex-direction:column;flex:1;display:flex;overflow:hidden}.settings-panel{flex-direction:column;gap:15px;padding:20px;display:flex;overflow-y:auto}.settings-title{color:#888;text-transform:uppercase;font-size:12px;font-weight:700}.settings-subtitle{color:#666;margin-bottom:10px;font-size:11px}.setting-group{flex-direction:column;gap:6px;display:flex}.setting-group label{color:#ccc;font-size:12px}.color-picker-wrapper{gap:10px;display:flex}.color-swatch{cursor:pointer;background:0 0;border:none;width:30px;height:30px}.text-input,.dropdown-input{color:#fff;background:#333;border:1px solid #444;border-radius:4px;width:100%;padding:8px;font-size:12px}.chat-messages{flex-direction:column;flex:1;gap:12px;padding:20px;display:flex;overflow-y:auto}.empty-state{text-align:center;color:#666;margin-top:40px;font-size:13px}.msg{border-radius:8px;max-width:90%;padding:10px 14px;font-size:14px;line-height:1.5}.msg.user{background:#2563eb;align-self:flex-end}.msg.assistant{background:#333;align-self:flex-start}.input-section{border-top:1px solid #333;flex-direction:column;gap:10px;padding:15px;display:flex}.context-badge{color:#fff;background:#7b1fa2;border-radius:4px;padding:6px 10px;font-size:11px}.chat-input{color:#fff;resize:vertical;background:#2a2a2a;border:1px solid #444;border-radius:6px;min-height:60px;padding:10px}.send-btn{color:#fff;cursor:pointer;background:#2563eb;border:none;border-radius:6px;padding:10px;font-weight:700}.send-btn:disabled{background:#444}.editor-area{background:#000;flex:1;position:relative}.loading-overlay{color:#666;background:#000;justify-content:center;align-items:center;display:flex;position:absolute;inset:0}#studio-editor{width:100%;height:100%}"}),(0,n.jsxs)("div",{className:"jsx-a513a8c8556cb9e9 main-layout",children:[(0,n.jsx)(l,{messages:v().messages,currentTheme:v().theme,onThemeChange:e=>{if(!p)return;let t=p.id;h(n=>{let r={...n};return r[t]={...r[t],theme:e},S(t,r[t]),r})},currentPage:p,selectedContext:c,onClearContext:()=>u(null),isThinking:g,onSend:x}),(0,n.jsx)(d,{onReady:t=>{e.current=t;let n=v();n&&n.content&&t.loadProjectData&&t.loadProjectData(n.content)},onSelection:u,onPageChange:t=>{if(!p||t.id===p.id)return;f(t),u(null);let n=m[t.id];n&&e.current&&n.content&&e.current.loadProjectData&&e.current.loadProjectData(n.content)},onUpdate:e=>{if(!p)return;let t=p.id;h(n=>{let r=n[t];if(!r)return n;let o={...r,content:e};return S(t,o),{...n,[t]:o}})}})]})]})}e.s(["default",()=>ef],81694)}]);